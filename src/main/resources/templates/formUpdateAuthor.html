<!DOCTYPE html>
<html>
  <head>
    <title>New Author</title>
    <!-- <link rel="stylesheet" href="/stile.css?version=3" />  -->
  </head>
  <body>
    <div><a href="/"><img src="/logo-siw.png" width="20%"/></a></div>
    <h1>Aggiungi un autore</h1>
    <form th:action="@{/author}" method="POST" th:object="${author}"> <!-- appena tocchi il pulsante submit lo dai a Post detto author, vedi nel controller postMapping  -->
      <p th:each="err : ${#fields.globalErrors()}" th:text="${err}">...</p>
      <div>
		<input type="hidden" th:field="*{id}" />
        <label>Nome:</label> <span><input required type="text" th:field="${author.name}"/></span>
        <span th:if="${#fields.hasErrors('name')}" th:errors="*{name}"></span>
      </div>
      <div>
        <label>Cognome:</label><span><input required type="text" th:field="${author.surname}"/></span>
        <span th:if="${#fields.hasErrors('surname')}" th:errors="*{surname}"></span>
      </div>
	  <div>
	    <label>Nazionalit√†:</label><span><input required type="text" th:field="${author.nationality}"/></span>
	    <span th:if="${#fields.hasErrors('nationality')}" th:errors="*{nationality}"></span>
	  </div>
	  <div>
	    <label>Data di nascita:</label><span><input required type="date" th:field="${author.dateOfBirth}"/></span>
	    <span th:if="${#fields.hasErrors('dateOfBirth')}" th:errors="*{dateOfBirth}"></span>
	  </div>
	  <div>
	      <label>Data di morte:</label><span><input type="date" th:field="${author.dateOfDeath}"/></span>
	    </div>
      <div>
        <label>URL immagine:</label><span><input type="url" th:field="${author.urlImage}" /></span>
      </div>
	  
	  <div>
	  <h1> Libri</h1>

	  <select th:field="*{books}" multiple>
	  	<option th:each="book : ${books}"
	  			th:value="${book.id}"
	  			th:text="${book.title}">
	  	</option>
	  </select>
	  	   
	  </div>
	  
	  <div>
        <span><button type="submit">Conferma</button></span>
      </div>
    </form>
  </body>
</html>